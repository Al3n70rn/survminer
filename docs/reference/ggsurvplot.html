<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Drawing Survival Curves Using ggplot2 — ggsurvplot • survminer</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">survminer</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Drawing Survival Curves Using ggplot2</h1>
    </div>

    
    <p>Drawing survival curves using ggplot2</p>
    

    <pre><span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>palette</span> <span class='kw'>=</span> <span class='st'>"hue"</span>,
  <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>break.time.by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>surv.scale</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"default"</span>,
  <span class='st'>"percent"</span>), <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>conf.int.fill</span> <span class='kw'>=</span> <span class='st'>"gray"</span>,
  <span class='kw'>conf.int.style</span> <span class='kw'>=</span> <span class='st'>"ribbon"</span>, <span class='kw'>censor</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>pval.size</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>pval.coord</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='kw'>NULL</span>, <span class='kw'>NULL</span>), <span class='kw'>pval.method</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>pval.method.size</span> <span class='kw'>=</span> <span class='no'>pval.size</span>, <span class='kw'>pval.method.coord</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='kw'>NULL</span>, <span class='kw'>NULL</span>),
  <span class='kw'>log.rank.weights</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"survdiff"</span>, <span class='st'>"1"</span>, <span class='st'>"n"</span>, <span class='st'>"sqrtN"</span>, <span class='st'>"S1"</span>, <span class='st'>"S2"</span>,
  <span class='st'>"FH_p=1_q=1"</span>), <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>submain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>caption</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Time"</span>, <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Survival probability"</span>, <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>16</span>, <span class='st'>"plain"</span>,
  <span class='st'>"black"</span>), <span class='kw'>font.submain</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>, <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>font.caption</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>,
  <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>font.x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>font.y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>,
  <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>font.tickslab</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>12</span>, <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>legend</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"top"</span>, <span class='st'>"bottom"</span>, <span class='st'>"left"</span>, <span class='st'>"right"</span>, <span class='st'>"none"</span>),
  <span class='kw'>legend.title</span> <span class='kw'>=</span> <span class='st'>"Strata"</span>, <span class='kw'>legend.labs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>font.legend</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>10</span>,
  <span class='st'>"plain"</span>, <span class='st'>"black"</span>), <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>risk.table.title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>risk.table.subtitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>risk.table.caption</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>risk.table.col</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>risk.table.fontsize</span> <span class='kw'>=</span> <span class='fl'>4.5</span>,
  <span class='kw'>font.risk.table.title</span> <span class='kw'>=</span> <span class='no'>font.main</span>,
  <span class='kw'>font.risk.table.subtitle</span> <span class='kw'>=</span> <span class='no'>font.submain</span>,
  <span class='kw'>font.risk.table.caption</span> <span class='kw'>=</span> <span class='no'>font.caption</span>, <span class='kw'>font.risk.table.x</span> <span class='kw'>=</span> <span class='no'>font.x</span>,
  <span class='kw'>font.risk.table.y</span> <span class='kw'>=</span> <span class='no'>font.y</span>, <span class='kw'>font.risk.table.tickslab</span> <span class='kw'>=</span> <span class='no'>font.tickslab</span>,
  <span class='kw'>risk.table.y.text</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>risk.table.y.text.col</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>risk.table.height</span> <span class='kw'>=</span> <span class='fl'>0.25</span>, <span class='kw'>surv.plot.height</span> <span class='kw'>=</span> <span class='fl'>0.75</span>,
  <span class='kw'>ncensor.plot.height</span> <span class='kw'>=</span> <span class='fl'>0.25</span>, <span class='kw'>ncensor.plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ncensor.plot.title</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ncensor.plot.subtitle</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ncensor.plot.caption</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>font.ncensor.plot.title</span> <span class='kw'>=</span> <span class='no'>font.main</span>,
  <span class='kw'>font.ncensor.plot.subtitle</span> <span class='kw'>=</span> <span class='no'>font.submain</span>,
  <span class='kw'>font.ncensor.plot.caption</span> <span class='kw'>=</span> <span class='no'>font.caption</span>, <span class='kw'>font.ncensor.plot.x</span> <span class='kw'>=</span> <span class='no'>font.x</span>,
  <span class='kw'>font.ncensor.plot.y</span> <span class='kw'>=</span> <span class='no'>font.y</span>, <span class='kw'>font.ncensor.plot.tickslab</span> <span class='kw'>=</span> <span class='no'>font.tickslab</span>,
  <span class='kw'>surv.median.line</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"none"</span>, <span class='st'>"hv"</span>, <span class='st'>"h"</span>, <span class='st'>"v"</span>), <span class='kw'>ggtheme</span> <span class='kw'>=</span> <span class='fu'><a href='theme_classic2.html'>theme_classic2</a></span>(),
  <span class='no'>...</span>)

<span class='co'># S3 method for ggsurvplot</span>
<span class='fu'>print</span>(<span class='no'>x</span>, <span class='kw'>surv.plot.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>risk.table.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ncensor.plot.height</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>,
  <span class='kw'>newpage</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>fit</dt>
      <dd>an object of class survfit.</dd>
      <dt>data</dt>
      <dd>a dataset used to fit survival curves. If not supplied then data
will be extracted from &#39;fit&#39; object.</dd>
      <dt>fun</dt>
      <dd>an arbitrary function defining a transformation of the survival
curve.  Often used transformations can be specified with a character
argument: &quot;event&quot; plots cumulative events (f(y) = 1-y), &quot;cumhaz&quot; plots the
cumulative hazard function (f(y) = -log(y)), and &quot;pct&quot; for survival
probability in percentage.</dd>
      <dt>color</dt>
      <dd>color to be used for the survival curves. This argument is
ignored when the number of strata (groups &gt; 1). In this case, use the
argument palette.</dd>
      <dt>palette</dt>
      <dd>the color palette to be used. Allowed values include &quot;hue&quot; for
the default hue color scale; &quot;grey&quot; for grey color palettes; brewer palettes
e.g. &quot;RdBu&quot;, &quot;Blues&quot;, ...; or custom color palette e.g. c(&quot;blue&quot;, &quot;red&quot;).
See details section for more information.</dd>
      <dt>linetype</dt>
      <dd>line types. Allowed values includes i) &quot;strata&quot; for changing
linetypes by strata (i.e. groups); ii) a numeric vector (e.g., c(1, 2)) or a
character vector c(&quot;solid&quot;, &quot;dashed&quot;).</dd>
      <dt>break.time.by</dt>
      <dd>numeric value controlling time axis breaks. Default value
is NULL.</dd>
      <dt>surv.scale</dt>
      <dd>scale transformation of survival curves. Allowed values are
&quot;default&quot; or &quot;percent&quot;.</dd>
      <dt>conf.int</dt>
      <dd>logical value. If TRUE, plots confidence interval.</dd>
      <dt>conf.int.fill</dt>
      <dd>fill color to be used for confidence interval.</dd>
      <dt>conf.int.style</dt>
      <dd>confidence interval style. Allowed values include
c(&quot;ribbon&quot;, &quot;step&quot;).</dd>
      <dt>censor</dt>
      <dd>logical value. If TRUE, censors will be drawn.</dd>
      <dt>pval</dt>
      <dd>logical value. If TRUE, the p-value is added on the plot.</dd>
      <dt>pval.size</dt>
      <dd>numeric value specifying the p-value text size. Default is 5.</dd>
      <dt>pval.coord</dt>
      <dd>numeric vector, of length 2, specifying the x and y
coordinates of the p-value. Default values are NULL.</dd>
      <dt>pval.method</dt>
      <dd>whether to add a text with the test name used for
calculating the pvalue, that corresponds to survival curves&#39; comparison -
used only when <code>pval=TRUE</code></dd>
      <dt>pval.method.size</dt>
      <dd>the same as <code>pval.size</code> but for displaying
<code>log.rank.weights</code> name</dd>
      <dt>pval.method.coord</dt>
      <dd>the same as <code>pval.coord</code> but for displaying
<code>log.rank.weights</code> name</dd>
      <dt>log.rank.weights</dt>
      <dd>The name for the type of weights to be used in
computing the p-value for log-rank test. By default <code>survdiff</code> is used
to calculate regular log-rank test (with weights == 1). A user can specify
<code>&quot;1&quot;, &quot;n&quot;, &quot;sqrtN&quot;, &quot;S1&quot;, &quot;S2&quot;, &quot;FH&quot;</code> to use weights specified in
<a href='http://www.rdocumentation.org/packages/survMisc/topics/comp'>comp</a>, so that weight correspond to the test as : 1 -
log-rank, n - Gehan-Breslow (generalized Wilcoxon), sqrtN - Tarone-Ware, S1
- Peto-Peto&#39;s modified survival estimate, S2 - modified Peto-Peto (by
Andersen), FH - Fleming-Harrington(p=1, q=1).</dd>
      <dt>main, submain, caption, xlab, ylab</dt>
      <dd>main title, subtitle, caption and axis
labels</dd>
      <dt>font.main, font.submain, font.caption, font.x, font.y, font.tickslab, font.legend</dt>
      <dd>a vector of length 3 indicating respectively the size (e.g.: 14), the style
(e.g.: &quot;plain&quot;, &quot;bold&quot;, &quot;italic&quot;, &quot;bold.italic&quot;) and the color (e.g.: &quot;red&quot;)
of main title, subtitle, caption, xlab and ylab and axis tick labels,
respectively. For example <em>font.x = c(14, &quot;bold&quot;, &quot;red&quot;)</em>.  Use font.x
= 14, to change only font size; or use font.x = &quot;bold&quot;, to change only font
face.</dd>
      <dt>xlim, ylim</dt>
      <dd>x and y axis limits e.g. xlim = c(0, 1000), ylim = c(0, 1).</dd>
      <dt>legend</dt>
      <dd>character specifying legend position. Allowed values are one of
c(&quot;top&quot;, &quot;bottom&quot;, &quot;left&quot;, &quot;right&quot;, &quot;none&quot;). Default is &quot;top&quot; side position.
to remove the legend use legend = &quot;none&quot;. Legend position can be also
specified using a numeric vector c(x, y); see details section.</dd>
      <dt>legend.title</dt>
      <dd>legend title.</dd>
      <dt>legend.labs</dt>
      <dd>character vector specifying legend labels. Used to replace
the names of the strata from the fit. Should be given in the same order as
those strata.</dd>
      <dt>risk.table</dt>
      <dd>Allowed values include: <ul>
<li> TRUE or FALSE
specifying whether to show or not the risk table. Default is FALSE. </li>
<li>
&quot;absolute&quot; or &quot;percentage&quot;: to show the <b>absolute number</b> and the
<b>percentage</b> of subjects at risk by time, respectively. Use &quot;abs_pct&quot;
to show both absolute number and percentage.</li>
</ul>
</dd>
      <dt>risk.table.title</dt>
      <dd>The title to be used for the risk table.</dd>
      <dt>risk.table.subtitle</dt>
      <dd>The subtitle to be used for the risk table.</dd>
      <dt>risk.table.caption</dt>
      <dd>The caption to be used for the risk table.</dd>
      <dt>risk.table.col</dt>
      <dd>color to be used for risk table. Default value is
&quot;black&quot;. If you want to color by strata (i.e. groups), use risk.table.col =
&quot;strata&quot;.</dd>
      <dt>risk.table.fontsize</dt>
      <dd>font size to be used for the risk table.</dd>
      <dt>font.risk.table.title, font.risk.table.subtitle, font.risk.table.caption, font.risk.table.x, font.risk.table.y, font.risk.table.tickslab</dt>
      <dd>a vector of length 3 indicating respectively the size (e.g.: 14), the style
(e.g.: &quot;plain&quot;, &quot;bold&quot;, &quot;italic&quot;, &quot;bold.italic&quot;) and the color (e.g.: &quot;red&quot;)
of main title, subtitle, caption, xlab and ylab and axis tick labels for the
<code>risk.table = TRUE</code>, respectively. For example <em>font.x = c(14,
&quot;bold&quot;, &quot;red&quot;)</em>.  Use font.x = 14, to change only font size; or use font.x =
&quot;bold&quot;, to change only font face.</dd>
      <dt>risk.table.y.text</dt>
      <dd>logical. Default is TRUE. If FALSE, risk table y axis
tick labels will be hidden.</dd>
      <dt>risk.table.y.text.col</dt>
      <dd>logical. Default value is FALSE. If TRUE, risk
table tick labels will be colored by strata.</dd>
      <dt>risk.table.height</dt>
      <dd>the height of the risk table on the grid. Increase
the value when you have many strata. Default is 0.25. Ignored when
risk.table = FALSE.</dd>
      <dt>surv.plot.height</dt>
      <dd>the height of the survival plot on the grid. Default
is 0.75. Ignored when risk.table = FALSE. <code>1-risk.table.height -
ncensor.plot.height</code> when <code>risk.table = TRUE</code> and <code>ncensor.plot =
TRUE</code></dd>
      <dt>ncensor.plot.height</dt>
      <dd>The height of the censor plot. Used when
<code>ncensor.plot = TRUE</code>.</dd>
      <dt>ncensor.plot</dt>
      <dd>logical value. If TRUE, the number of censored subjects at
time t is plotted. Default is FALSE.</dd>
      <dt>ncensor.plot.title</dt>
      <dd>The title to be used for the censor plot. Used when
<code>ncensor.plot = TRUE</code>.</dd>
      <dt>ncensor.plot.subtitle</dt>
      <dd>The subtitle to be used for the censor plot. Used
when <code>ncensor.plot = TRUE</code>.</dd>
      <dt>ncensor.plot.caption</dt>
      <dd>The caption to be used for the censor plot. Used
when <code>ncensor.plot = TRUE</code>.</dd>
      <dt>font.ncensor.plot.title, font.ncensor.plot.subtitle, font.ncensor.plot.caption, font.ncensor.plot.x, font.ncensor.plot.y, font.ncensor.plot.tickslab</dt>
      <dd>a vector of length 3 indicating respectively the size (e.g.: 14), the style
(e.g.: &quot;plain&quot;, &quot;bold&quot;, &quot;italic&quot;, &quot;bold.italic&quot;) and the color (e.g.: &quot;red&quot;)
of main title, subtitle, caption, xlab and ylab and axis tick labels for the
<code>ncensor.plot = TRUE</code>, respectively. For example <em>font.x = c(14,
&quot;bold&quot;, &quot;red&quot;)</em>.  Use font.x = 14, to change only font size; or use font.x =
&quot;bold&quot;, to change only font face.</dd>
      <dt>surv.median.line</dt>
      <dd>character vector for drawing a horizontal/vertical
line at median survival. Allowed values include one of c(&quot;none&quot;, &quot;hv&quot;, &quot;h&quot;,
&quot;v&quot;). v: vertical, h:horizontal.</dd>
      <dt>ggtheme</dt>
      <dd>function, ggplot2 theme name. Default value is
<a href='theme_classic2.html'>theme_classic2</a>. Allowed values include ggplot2 official themes: see
<code><a href='http://www.rdocumentation.org/packages/ggplot2/topics/theme'>theme</a></code>.</dd>
      <dt>...</dt>
      <dd>other arguments to be passed to ggplot2 geom_*() functions such as
linetype, size, ...</dd>
      <dt>x</dt>
      <dd>an object of class ggsurvplot</dd>
      <dt>newpage</dt>
      <dd>open a new page. See <code>grid.arrange</code>.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>return an object of class ggsurvplot which is list containing two
 ggplot objects, including: <ul>
<li> plot: the survival plot </li>
<li>
 table: the number at risk table per time </li>
</ul></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>legend position</strong>: The argument <strong>legend</strong> can be also a
 numeric vector c(x,y). In this case it is possible to position the legend
 inside the plotting area. x and y are the coordinates of the legend box.
 Their values should be between 0 and 1. c(0,0) corresponds to the &quot;bottom
 left&quot; and c(1,1) corresponds to the &quot;top right&quot; position. For instance use
 legend = c(0.8, 0.2). <strong>Color palettes</strong>: The argument
 <strong>palette</strong> can be used to specify the color to be used for each group.
 By default, the first color in the palette is used to color the first level
 of the factor variable. This default behavior can be changed by assigning
 correctly a named vector. That is, the names of colors should match the
 strata names as generated by the <code>ggsurvplot()</code> function in the legend.</p>
    
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    <p><ul>
<li> <code>ggsurvplot</code>: Draws survival curves using ggplot2.
</li>
</ul></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 1: Survival curves with two groups</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='co'># Fit survival curves</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='fu'>require</span>(<span class='st'>"survival"</span>)
<span class='no'>fit</span><span class='kw'>&lt;-</span> <span class='fu'>survfit</span>(<span class='fu'>Surv</span>(<span class='no'>time</span>, <span class='no'>status</span>) ~ <span class='no'>sex</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>)

<span class='co'># Drawing survival curves</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>)</div><img src='ggsurvplot-2.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># Change font size, style and color</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='co'>## Not run: ------------------------------------</span>
<span class='co'># # Change font size, style and color at the same time</span>
<span class='co'># ggsurvplot(fit, data = lung,  main = "Survival curve",</span>
<span class='co'>#    font.main = c(16, "bold", "darkblue"),</span>
<span class='co'>#    font.x = c(14, "bold.italic", "red"),</span>
<span class='co'>#    font.y = c(14, "bold.italic", "darkred"),</span>
<span class='co'>#    font.tickslab = c(12, "plain", "darkgreen"))</span>
<span class='co'>## ---------------------------------------------</span>

<span class='co'># Legend: title, labels and position</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>

<span class='co'># Change the legend title and labels</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>legend</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>,
          <span class='kw'>legend.title</span> <span class='kw'>=</span> <span class='st'>"Sex"</span>,
          <span class='kw'>legend.labs</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"Male"</span>, <span class='st'>"Female"</span>))</div><img src='ggsurvplot-4.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># Specify legend position by its coordinates</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>legend</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>0.2</span>, <span class='fl'>0.2</span>))</div><img src='ggsurvplot-6.png' alt='' width='540' height='400' /><div class='input'>

<span class='co'># format</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='co'># change line size --&gt; 1</span>
<span class='co'># Change line types by groups (i.e. "strata")</span>
<span class='co'># and change color palette</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>,  <span class='co'># change line size</span>
          <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='st'>"strata"</span>, <span class='co'># change line type by groups</span>
          <span class='kw'>break.time.by</span> <span class='kw'>=</span> <span class='fl'>250</span>, <span class='co'># break time axis by 250</span>
          <span class='kw'>palette</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"#E7B800"</span>, <span class='st'>"#2E9FDF"</span>), <span class='co'># custom color palette</span>
          <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='co'># Add confidence interval</span>
          <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>TRUE</span> <span class='co'># Add p-value</span>
)</div><div class='input'>
<span class='co'># Use brewer color palette "Dark2"</span>
<span class='co'># Add risk table</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>, <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='st'>"strata"</span>,
          <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
          <span class='kw'>palette</span> <span class='kw'>=</span> <span class='st'>"Dark2"</span>, <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='input'>

<span class='co'># Change color, linetype by strata, risk.table color by strata</span>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>,
          <span class='kw'>pval</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
          <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='co'># Add risk table</span>
          <span class='kw'>risk.table.col</span> <span class='kw'>=</span> <span class='st'>"strata"</span>, <span class='co'># Change risk table color by groups</span>
          <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='st'>"strata"</span>, <span class='co'># Change line type by groups</span>
          <span class='kw'>ggtheme</span> <span class='kw'>=</span> <span class='fu'>theme_bw</span>(), <span class='co'># Change ggplot2 theme</span>
          <span class='kw'>palette</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"#E7B800"</span>, <span class='st'>"#2E9FDF"</span>))</div><div class='input'>

<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 3: Survival curve with multiple group</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='co'># Fit (complexe) survival curves</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='co'>## Not run: ------------------------------------</span>
<span class='co'># require("survival")</span>
<span class='co'># fit2 &lt;- survfit( Surv(time, status) ~ rx + adhere,</span>
<span class='co'>#                 data = colon )</span>
<span class='co'># </span>
<span class='co'># # Visualize</span>
<span class='co'># #++++++++++++++++++++++++++++++++++++</span>
<span class='co'># </span>
<span class='co'># # Visualize: add p-value, chang y limits</span>
<span class='co'># # change color using brewer palette</span>
<span class='co'># # Adjust risk table and survival plot heights</span>
<span class='co'># ggsurvplot(fit2, data = colon, pval = TRUE,</span>
<span class='co'>#           break.time.by = 400,</span>
<span class='co'>#           risk.table = TRUE,</span>
<span class='co'>#           risk.table.col = "strata",</span>
<span class='co'>#           risk.table.height = 0.5, # Useful when you have multiple groups</span>
<span class='co'>#           palette = "Dark2")</span>
<span class='co'>## ---------------------------------------------</span>


<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 4: Facet ggsurvplot() output by</span>
<span class='co'># a combination of factors</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='co'># Fit (complexe) survival curves</span>
<span class='co'>#++++++++++++++++++++++++++++++++++++</span>
<span class='co'>## Not run: ------------------------------------</span>
<span class='co'># require("survival")</span>
<span class='co'># fit3 &lt;- survfit( Surv(time, status) ~ sex + rx + adhere,</span>
<span class='co'>#                 data = colon )</span>
<span class='co'># </span>
<span class='co'># # Visualize</span>
<span class='co'># #++++++++++++++++++++++++++++++++++++</span>
<span class='co'># ggsurv &lt;- ggsurvplot(fit3, data = colon,</span>
<span class='co'>#   fun = "cumhaz", conf.int = TRUE,</span>
<span class='co'>#   risk.table = TRUE, risk.table.col="strata",</span>
<span class='co'>#   ggtheme = theme_bw())</span>
<span class='co'># </span>
<span class='co'># # Faceting survival curves</span>
<span class='co'># curv_facet &lt;- ggsurv$plot + facet_grid(rx ~ adhere)</span>
<span class='co'># curv_facet</span>
<span class='co'># </span>
<span class='co'># # Faceting risk tables:</span>
<span class='co'># # Generate risk table for each facet plot item</span>
<span class='co'># ggsurv$table + facet_grid(rx ~ adhere, scales = "free")+</span>
<span class='co'>#  theme(legend.position = "none")</span>
<span class='co'># </span>
<span class='co'>#  # Generate risk table for each facet columns</span>
<span class='co'># tbl_facet &lt;- ggsurv$table + facet_grid(.~ adhere, scales = "free")</span>
<span class='co'># tbl_facet + theme(legend.position = "none")</span>
<span class='co'># </span>
<span class='co'># # Arrange faceted survival curves and risk tables</span>
<span class='co'># g2 &lt;- ggplotGrob(curv_facet)</span>
<span class='co'># g3 &lt;- ggplotGrob(tbl_facet)</span>
<span class='co'># min_ncol &lt;- min(ncol(g2), ncol(g3))</span>
<span class='co'># g &lt;- gridExtra::rbind.gtable(g2[, 1:min_ncol], g3[, 1:min_ncol], size="last")</span>
<span class='co'># g$widths &lt;- grid::unit.pmax(g2$widths, g3$widths)</span>
<span class='co'># grid::grid.newpage()</span>
<span class='co'># grid::grid.draw(g)</span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'># </span>
<span class='co'>## ---------------------------------------------</span>

<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
<span class='co'># Example 5: Playing with fonts and texts</span>
<span class='co'>#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>

<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Survival curves"</span>, <span class='kw'>submain</span> <span class='kw'>=</span> <span class='st'>"Based on Kaplan-Meier estimates"</span>,
  <span class='kw'>caption</span> <span class='kw'>=</span> <span class='st'>"created with survminer"</span>,
  <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>16</span>, <span class='st'>"bold"</span>, <span class='st'>"darkblue"</span>),
  <span class='kw'>font.submain</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"purple"</span>),
  <span class='kw'>font.caption</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"plain"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>font.x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"red"</span>),
  <span class='kw'>font.y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"darkred"</span>),
  <span class='kw'>font.tickslab</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>12</span>, <span class='st'>"plain"</span>, <span class='st'>"darkgreen"</span>),
  <span class='co'>########## risk table #########,</span>
  <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>risk.table.title</span> <span class='kw'>=</span> <span class='st'>"Note the risk set sizes"</span>,
  <span class='kw'>risk.table.subtitle</span> <span class='kw'>=</span> <span class='st'>"and remember about censoring."</span>,
  <span class='kw'>risk.table.caption</span> <span class='kw'>=</span> <span class='st'>"source code: website.com"</span>,
  <span class='kw'>risk.table.height</span> <span class='kw'>=</span> <span class='fl'>0.35</span>,
  <span class='co'>######### ncensor plot #######</span>
  <span class='kw'>ncensor.plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ncensor.plot.title</span> <span class='kw'>=</span> <span class='st'>"Number of censorings"</span>,
  <span class='kw'>ncensor.plot.subtitle</span> <span class='kw'>=</span> <span class='st'>"over the time."</span>,
  <span class='kw'>ncensor.plot.caption</span> <span class='kw'>=</span> <span class='st'>"data available at data.com"</span>,
  <span class='kw'>ncensor.plot.height</span> <span class='kw'>=</span> <span class='fl'>0.35</span>)</div><div class='input'>
<span class='fu'>ggsurvplot</span>(<span class='no'>fit</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>lung</span>,
  <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Survival curves"</span>, <span class='kw'>submain</span> <span class='kw'>=</span> <span class='st'>"Based on Kaplan-Meier estimates"</span>,
  <span class='kw'>caption</span> <span class='kw'>=</span> <span class='st'>"created with survminer"</span>,
  <span class='kw'>font.main</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>16</span>, <span class='st'>"bold"</span>, <span class='st'>"darkblue"</span>),
  <span class='kw'>font.submain</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"purple"</span>),
  <span class='kw'>font.caption</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"plain"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>font.x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"red"</span>),
  <span class='kw'>font.y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>14</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"darkred"</span>),
  <span class='kw'>font.tickslab</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>12</span>, <span class='st'>"plain"</span>, <span class='st'>"darkgreen"</span>),
  <span class='co'>########## risk table #########,</span>
  <span class='kw'>risk.table</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>risk.table.title</span> <span class='kw'>=</span> <span class='st'>"Note the risk set sizes"</span>,
  <span class='kw'>risk.table.subtitle</span> <span class='kw'>=</span> <span class='st'>"and remember about censoring."</span>,
  <span class='kw'>risk.table.caption</span> <span class='kw'>=</span> <span class='st'>"source code: website.com"</span>,
  <span class='kw'>risk.table.height</span> <span class='kw'>=</span> <span class='fl'>0.35</span>,
  <span class='kw'>font.risk.table.title</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>13</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"green"</span>),
  <span class='kw'>font.risk.table.subtitle</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>, <span class='st'>"bold"</span>, <span class='st'>"pink"</span>),
  <span class='kw'>font.risk.table.caption</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>11</span>, <span class='st'>"plain"</span>, <span class='st'>"darkgreen"</span>),
  <span class='kw'>font.risk.table.x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>8</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>font.risk.table.y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>11</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"darkgreen"</span>),
  <span class='kw'>font.risk.table.tickslab</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>9</span>, <span class='st'>"bold"</span>, <span class='st'>"red"</span>),
  <span class='co'>######### ncensor plot ###################</span>
  <span class='kw'>ncensor.plot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ncensor.plot.title</span> <span class='kw'>=</span> <span class='st'>"Number of censorings"</span>,
  <span class='kw'>ncensor.plot.subtitle</span> <span class='kw'>=</span> <span class='st'>"over the time."</span>,
  <span class='kw'>ncensor.plot.caption</span> <span class='kw'>=</span> <span class='st'>"data available at data.com"</span>,
  <span class='kw'>ncensor.plot.height</span> <span class='kw'>=</span> <span class='fl'>0.35</span>,
  <span class='kw'>font.ncensor.plot.title</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>13</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"green"</span>),
  <span class='kw'>font.ncensor.plot.subtitle</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>15</span>, <span class='st'>"bold"</span>, <span class='st'>"pink"</span>),
  <span class='kw'>font.ncensor.plot.caption</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>11</span>, <span class='st'>"plain"</span>, <span class='st'>"darkgreen"</span>),
  <span class='kw'>font.ncensor.plot.x</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>8</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"orange"</span>),
  <span class='kw'>font.ncensor.plot.y</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>11</span>, <span class='st'>"bold.italic"</span>, <span class='st'>"darkgreen"</span>),
  <span class='kw'>font.ncensor.plot.tickslab</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>9</span>, <span class='st'>"bold"</span>, <span class='st'>"red"</span>))</div><img src='ggsurvplot-12.png' alt='' width='540' height='400' /><div class='input'>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#functions">Functions</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Alboukadel Kassambara, <a href='mailto:alboukadel.kassambara@gmail.com'>alboukadel.kassambara@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alboukadel Kassambara, Marcin Kosinski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
